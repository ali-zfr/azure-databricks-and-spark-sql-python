{"version":"NotebookV1","origId":1137724266866928,"name":"00 Mounting streaming-demo Container","language":"python","commands":[{"version":"CommandV1","origId":1137724266866929,"guid":"992e36f3-647d-4497-84c0-3894216eb216","subtype":"command","commandType":"auto","position":0.5,"command":"%md\n##### Code to mount the new container to DBFS","commandVersion":48,"state":"input","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":null,"subcommandOptions":null,"contentSha256Hex":null,"nuid":"cdba53a8-f57c-4c18-9936-b25f662005e5"},{"version":"CommandV1","origId":1137724266866930,"guid":"49057d78-34e3-49c8-b25a-08e0249a18a0","subtype":"command","commandType":"auto","position":1.0,"command":"# Mounting the new streaming container into DBFS\napplication_id = dbutils.secrets.get(scope=\"YOUR SCOPE HERE\", key=\"YOUR SECRET KEY HERE\")\ntenant_id = dbutils.secrets.get(scope=\"YOUR SCOPE HERE\", key=\"YOUR SECRET KEY HERE\")\nsecret = dbutils.secrets.get(scope=\"YOUR SCOPE HERE\", key=\"YOUR SECRET KEY HERE\")\n\ncontainer_name = 'YOUR CONTAINER NAME HERE'\naccount_name = 'YOUR ACCOUNT NAME HERE'\nmount_point = 'YOUR MOUNT POINT PATH HERE'\n\nconfigs = {\"fs.azure.account.auth.type\": \"OAuth\",\n          \"fs.azure.account.oauth.provider.type\": \"org.apache.hadoop.fs.azurebfs.oauth2.ClientCredsTokenProvider\",\n          \"fs.azure.account.oauth2.client.id\": application_id,\n          \"fs.azure.account.oauth2.client.secret\": secret,\n          \"fs.azure.account.oauth2.client.endpoint\": f\"https://login.microsoftonline.com/{tenant_id}/oauth2/token\"}\n\n# Optionally, you can add <directory-name> to the source URI of your mount point.\ndbutils.fs.mount(\n  source = f\"abfss://{container_name}@{account_name}.dfs.core.windows.net/\",\n  mount_point = mount_point,\n  extra_configs = configs)","commandVersion":23,"state":"finished","results":{"type":"listResults","data":[{"type":"ansi","data":"Out[1]: True","name":null,"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{}}],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"workflows":[],"startTime":1677436007267,"submitTime":1677436005317,"finishTime":1677436030271,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[["ansi",12]],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"0128e40b-0003-4bff-af14-156448594f28"}],"dashboards":[],"guid":"d36b6c4a-c98f-4411-9b1a-3ec607a8dc01","globalVars":{},"iPythonMetadata":null,"inputWidgets":{},"notebookMetadata":{"pythonIndentUnit":4},"reposExportFormat":"SOURCE"}